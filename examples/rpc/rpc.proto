syntax = "proto3";
//package netlib.rpc;

enum MessageType
{
	REQUEST = 0;
	RESPONSE = 1;
	ERROR = 2; // not used
}

enum ErrorCode
{
	NO_ERROR = 0;
	NO_SERVICE = 1;
	NO_METHOD = 2;
	INVALID_REQUEST = 3;
	INVALID_RESPONSE = 4;
	TIMEOUT = 5;
}

message RpcMessage
{
	MessageType type = 1;
	uint64 id = 2;

	string service = 3;
	string method = 4;
	ErrorCode error = 5;

	bytes request = 6;
	bytes response = 7;
}
